<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Therapy Bear</title>
  <link rel="icon" href="images/bearClaw.png"></link>
  <link rel="stylesheet" href="welcome.css">
</head>
<body>

  <div class="popup-overlay" id="popup">
    <div class="popup-box">
      <h2>Welcome to Therapy Bear's Safe Cave</h2>
      <p> This is Therpay Bear. The wisest, kindest bear ready to listen and support. 
        Therpay Bear does not judge and only offeres support, he is here to help. 
        Please ask him anything on your mind, and he will try his very best to be supportive and helpful!
        Therapy Bear is of course an AI bear, his advidce may be wrong and when dealing with serious issues 
        please consult with an expert and take Therapy Bear's advice with a grain of salt.
      </p>
      <button class="close-popup" id="close-popup">I Understand</button>
    </div>
  </div>
  <div id="containerLarge">
      <div id="wrapperLarge">
        <div id="imgContainer"><img class="image" src="images/message-quote.png"></div> <!-- This div is supposed to generate a quote-->
        <div id="imgContainer"><img class="image" src="images/meditation.png"></div> <!-- This div is supposed to generate a breathing excercise-->
        <div id="imgContainer"><img class="image" src="images/region-pin-alt.png"></div> <!-- This div is supposed to generate a map of helpful areas around you based around what your response is to Therapy Bear-->
      </div>
  </div>
  <div id="space"></div> <!--This is just here to take up space to push input down -B -->
    <div id="input-area">
      <input type="text" id="input" placeholder="Ask Therapy Bear anything on your mind">
      <button onclick="sendMessage()">Send</button>
    </div>

  <div id="chatbox">
    <div id="messages"></div>
  </div>

  <script>
const popup = document.getElementById('popup');
    const closePopup = document.getElementById('close-popup');

    // Function to show the popup
    window.onload = function() {
      popup.style.display = 'block';
    };

    // Function to hide the popup when the close button is clicked
    closePopup.addEventListener('click', function() {
      popup.style.display = 'none';
    });

    const messages = document.getElementById('messages');

    

    var alrHappened = false; // created boolean function alrHappened outside of functions to keep its value, also here to allow for change in prompt -B

function sendMessage() {
  setTimeout(() => {      // set this messages.innerHTML part here to get rid of existing text when new prompt drawn -B
    messages.innerHTML = "\n";
  }, 700);
  const input = document.getElementById('input');
  const userMessage = input.value;

  // Clear the input field
  input.value = '';

  // Simulate bot response
  setTimeout(() => {
    const botDiv = document.createElement('div');
    botDiv.classList.add('message', 'bot');
    if(alrHappened){  //condition statements to go through two different responses to show what AI would look like -B
      botDiv.innerText = 'I have not been trained to answer that yet';
      alrHappened = false;
    }
    else{ //condition statements to go through two different responses to show what AI would look like -B (runs when alrHappened = false)
      botDiv.innerText = "Mmmm I love honey, and extra words to show that it stays within limit. Did you know brown bears can live 20-30 years long? I didn't either."
      alrHappened = true;
    }
    
    messages.appendChild(botDiv);

    // Scroll to the bottom
    messages.scrollTop = messages.scrollHeight;
  }, 700);
}
  </script>

</body>
</html>
